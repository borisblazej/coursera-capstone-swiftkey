---
title: "Developing The Swiftkey1 Model"
author: "Boris Blazej"
date: '2022-05-01'
output: html_document
---

```{r setup, include=FALSE}
# Options
knitr::opts_chunk$set(echo = TRUE)

# Parameters
raw_text <- "../data/en_US.twitter.txt"

# Libraries
library(profvis)


# The "package" = needed functions
source("swiftkey1.R")
```

## Notes

 - Parameters: text quantity, top n words
 - Performance
    - Profile: build + predict
    - Size of model object
    - Precision (specificity, ...)
 
## Train / Build the model

```{r train}

train_text <- load_text(raw_text, nrows = 300000 )

# words <- build_ngram(train_text, 1)
# head(words)

bigrams <- build_ngram(train_text, 2)
head(bigrams, 3)

trigrams <- build_ngram(train_text, 3)
head(trigrams, 3)


train_text[1:3]

ngram_model <- train_model(train_text, 5000)

prediction_list(ngram_model, last_n_words("i thank you", 3))
prediction_list(ngram_model, last_n_words("It would mean the", 3))
prediction_list(ngram_model, last_n_words("and make me the", 3))

next_word(ngram_model, "i thank you")
next_word(ngram_model, "It would mean the")
next_word(ngram_model, "and make me the")

```


